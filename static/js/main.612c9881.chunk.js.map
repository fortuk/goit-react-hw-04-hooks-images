{"version":3,"sources":["components/Button/Button.module.css","components/Container/Container.module.css","components/loader/loader.module.css","components/App/App.module.css","components/SearchBar/Searchbar.module.css","components/SearchBar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","api/imagesApi.js","components/Button/Button.jsx","components/Modal/Modal.jsx","components/Container/Container.jsx","components/loader/loader.jsx","components/App/App.jsx","index.js","components/ImageGallery/ImageGallery.module.css","components/Modal/Modal.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","input","setInput","className","s","event","preventDefault","trim","alert","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","toLowerCase","ImageGalleryItem","src","tags","dataSrc","onClick","alt","ImageGalleryItemImage","ImageGallery","gallery","onClickImg","map","id","webformatURL","largeImageURL","api","fetchImagesWithQuery","query","page","url","fetch","then","response","json","Button","handleClickBtn","Modal","onClose","children","useEffect","handleKeyDown","code","window","addEventListener","removeEventListener","overlay","target","modal","button","PropTypes","arrayOf","shape","array","object","Container","container","Load","color","height","width","timeout","styles","loader","App","setGallery","status","setStatus","setQuery","setPage","modalImg","setModalImg","modalAlt","setModalAlt","showModal","setShowModal","error","setError","imagesApi","images","hits","length","state","catch","finally","scrollTo","top","document","documentElement","scrollHeight","behavior","handleSearchbarSubmit","request","message","imgForModal","dataset","altForModal","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.612c9881.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2jem8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__CKuq9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"loader_loader__2vueo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2_lM2\",\"App-logo\":\"App_App-logo__28zTy\",\"App-logo-spin\":\"App_App-logo-spin__H26LS\",\"App-header\":\"App_App-header__1BdEd\",\"App-link\":\"App_App-link__1rAto\",\"container\":\"App_container__3yynG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2r0tK\",\"SearchForm\":\"Searchbar_SearchForm__1j5I2\",\"SearchFormButton\":\"Searchbar_SearchFormButton__Es3GD\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3QDYO\",\"SearchFormInput\":\"Searchbar_SearchFormInput__qsQdr\"};","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Searchbar.module.css';\n\nexport default function Searchbar({ onSubmit }) {\n  const [input, setInput] = useState('');\n\n  const handleNameChange = event => {\n    setInput(event.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (input.trim() === '') {\n      alert('Введите слово для поиска');\n      return;\n    }\n    onSubmit(input);\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form onSubmit={handleSubmit} className={s.SearchForm}>\n        <button type=\"submit\" className={s.SearchFormButton}>\n          <span className={s.SearchFormButtonLabel}>Search</span>\n        </button>\n\n        <input\n          className={s.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={input}\n          onChange={handleNameChange}\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\n\nimport s from '../ImageGallery/ImageGallery.module.css';\n\nconst ImageGalleryItem = ({ src, tags, dataSrc, onClick }) => {\n  return (\n    <li onClick={onClick}>\n      <img\n        src={src}\n        data-src={dataSrc}\n        alt={tags}\n        className={s.ImageGalleryItemImage}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  src: PropTypes.string.isRequired,\n  dataSrc: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from './ImageGallery.module.css';\nimport PropTypes from 'prop-types';\n\nfunction ImageGallery({ gallery, onClickImg }) {\n  return (\n    <>\n      <ul className={s.ImageGallery}>\n        {gallery.map(({ id, webformatURL, largeImageURL, tags }) => (\n          <ImageGalleryItem\n            key={id}\n            src={webformatURL}\n            dataSrc={largeImageURL}\n            tags={tags}\n            onClick={onClickImg}\n          />\n        ))}\n      </ul>\n    </>\n  );\n}\n\nImageGallery.propTypes = {\n  gallery: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n      tags: PropTypes.string.isRequired,\n    }),\n  ).isRequired,\n  onClickImg: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","const API_KEY = '23027480-c70d45ac3781d0e477b4a7117';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nfunction fetchImagesWithQuery(query, page) {\n  const url = `${BASE_URL}?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n  return fetch(url).then(response => response.json());\n}\nconst api = { fetchImagesWithQuery };\nexport default api;\n","import PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nexport default function Button({ handleClickBtn }) {\n  return (\n    <button type=\"button\" className={s.Button} onClick={handleClickBtn}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  handleClickBtn: PropTypes.func.isRequired,\n};\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport s from '../Modal/Modal.module.css';\n\nexport default function Modal({ onClose, children }) {\n  useEffect(() => {\n    const handleKeyDown = event => {\n      if (event.code === 'Escape') {\n        onClose();\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [onClose]);\n\n  const handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      onClose();\n    }\n  };\n\n  return (\n    <div className={s.overlay} onClick={handleBackdropClick}>\n      <div className={s.modal}>\n        {children}\n        <button className={s.button} type=\"button\" onClick={onClose}>\n          X\n        </button>\n      </div>\n    </div>\n  );\n}\nModal.propTypes = {\n  largeImageURL: PropTypes.string,\n  onClose: PropTypes.func.isRequired,\n};\n","import s from './Container.module.css';\nimport PropTypes from 'prop-types';\n\nfunction Container({ children }) {\n  return <div className={s.container}>{children}</div>;\n}\n\nPropTypes.arrayOf(\n  PropTypes.shape({\n    children: PropTypes.array,\n    children: PropTypes.object,\n  }),\n);\nexport default Container;\n","import Loader from 'react-loader-spinner';\nimport styles from '../loader/loader.module.css';\n\nconst Load = () => {\n  return (\n    <Loader\n      type=\"MutatingDots\"\n      color=\"#00BFFF\"\n      height={100}\n      width={100}\n      timeout={500}\n      className={styles.loader}\n    />\n  );\n};\n\nexport { Load };\n","import React, { useEffect, useState } from 'react';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Searchbar from '../SearchBar/Searchbar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport imagesApi from '../../api/imagesApi';\nimport Button from '../Button/Button';\nimport Modal from '../Modal/Modal';\nimport Container from '../Container/Container';\nimport { Load } from '../loader/loader';\nimport s from '../App/App.module.css';\n\nexport default function App() {\n  const [gallery, setGallery] = useState([]);\n  const [status, setStatus] = useState('idle');\n  const [query, setQuery] = useState('');\n  const [page, setPage] = useState(1);\n  const [modalImg, setModalImg] = useState('');\n  const [modalAlt, setModalAlt] = useState('');\n  const [showModal, setShowModal] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (query.trim() === '') {\n      return;\n    }\n\n    setStatus('pending');\n\n    imagesApi\n      .fetchImagesWithQuery(query, page)\n      .then(({ hits }) => {\n        const images = hits.map(({ id, webformatURL, largeImageURL, tags }) => {\n          return { id, webformatURL, largeImageURL, tags };\n        });\n        // console.log(images);\n        if (images.length > 0) {\n          setGallery(state => [...state, ...images]);\n          setStatus('resolved');\n        } else {\n          alert(`По запросу ${query} ничего не найдено.`);\n          setStatus('idle');\n        }\n      })\n      .catch(error => {\n        setError(error);\n        setStatus('rejected');\n      })\n      .finally(() => {\n        if (page > 1) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n        }\n      });\n  }, [page, query]);\n\n  const handleSearchbarSubmit = request => {\n    if (request !== query) {\n      setGallery([]);\n      setPage(1);\n      setQuery(request);\n    }\n  };\n\n  const fetchImages = () => {\n    setPage(state => state + 1);\n    setStatus('pending');\n  };\n\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  const setCurrentPictureSrc = event => {\n    const imgForModal = event.target.dataset.src;\n    const altForModal = event.target.alt;\n\n    setModalImg(imgForModal);\n    setModalAlt(altForModal);\n    setShowModal(true);\n  };\n\n  if (status === 'idle') {\n    return (\n      <Container>\n        <Searchbar onSubmit={handleSearchbarSubmit} />\n      </Container>\n    );\n  }\n\n  if (status === 'rejected') {\n    return <h1>{error.message}</h1>;\n  }\n\n  if (status === 'resolved' || status === 'pending') {\n    return (\n      <>\n        {showModal && (\n          <Modal onClose={toggleModal}>\n            <img src={modalImg} alt={modalAlt} />\n          </Modal>\n        )}\n        <Container>\n          <Searchbar onSubmit={handleSearchbarSubmit} />\n          {gallery.length > 0 && (\n            <ImageGallery onClickImg={setCurrentPictureSrc} gallery={gallery} />\n          )}\n          {status === 'pending' ? (\n            <Load\n              className={s.loader}\n              type=\"Circles\"\n              color=\"#00BFFF\"\n              height={80}\n              width={80}\n            />\n          ) : (\n            <Button handleClickBtn={fetchImages} />\n          )}\n        </Container>\n      </>\n    );\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App/App';\r\nimport 'modern-normalize/modern-normalize.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__29-Mk\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__37jex\",\"ImageGalleryItemImage\":\"ImageGallery_ImageGalleryItemImage__3sFJk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2SwAo\",\"modal\":\"Modal_modal__l0KmJ\",\"button\":\"Modal_button__1X-Ov\"};"],"sourceRoot":""}